{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport Head from 'next/head';\nimport Link from 'next/link';\nimport data from '../data/data.json';\nimport React, { useState, useEffect } from 'react';\nimport useEventListener from '@use-it/event-listener';\n\nconst capitalize = s => {\n  if (typeof s !== 'string') return '';\n  return s.charAt(0).toUpperCase() + s.slice(1);\n};\n\nconst INITIAL_ALBUM = 'home';\nconst INITIAL_ALBUM_IMAGES = data.albums[0].photos;\nexport default function Home() {\n  const {\n    0: currentSection,\n    1: setCurrentSection\n  } = useState(INITIAL_ALBUM);\n  const {\n    0: images,\n    1: setImages\n  } = useState(INITIAL_ALBUM_IMAGES);\n  const {\n    0: showThumnails,\n    1: setShowThumbnails\n  } = useState(false);\n  const {\n    0: imageIndex,\n    1: setImageIndex\n  } = useState(0);\n  useEffect(() => {\n    const currentAlbum = data.albums.find(album => {\n      return album.category === currentSection;\n    });\n\n    if (currentAlbum) {\n      setImages(currentAlbum.photos);\n    } else {\n      // Search in travel album subcategory\n      const travelAlbum = data.albums.find(album => {\n        return album.category === 'travel';\n      });\n      const currentAlbum = travelAlbum.subcategory.find(album => {\n        return album.name === currentSection;\n      });\n\n      if (currentAlbum) {\n        setImages(currentAlbum.photos);\n      }\n    }\n  }, [currentSection]);\n\n  function handler({\n    key\n  }) {\n    console.log('downHandler - imageIndex', imageIndex);\n\n    if (key === 'ArrowLeft') {\n      previousImage();\n    }\n\n    if (key === 'ArrowRight') {\n      nextImage();\n    }\n  } // https://stackoverflow.com/questions/29069639/listen-to-keypress-for-document-in-reactjs\n\n\n  useEventListener('keydown', handler);\n\n  const onImageClick = index => {\n    if (index) {\n      setImageIndex(index);\n    } else if (index === 0) {\n      setImageIndex(0);\n    }\n\n    setShowThumbnails(!showThumnails);\n  };\n\n  const onToggleThumbnailsView = () => {\n    setShowThumbnails(!showThumnails);\n  };\n\n  const setCurrentSectionImages = sectionName => {\n    setImageIndex(0);\n    setCurrentSection(sectionName);\n  };\n\n  const listElement = sectionName => {\n    return __jsx(\"li\", {\n      onClick: e => {\n        // console.log(e.target.innerText);\n        setCurrentSectionImages(e.target.innerText.toLowerCase());\n      }\n    }, currentSection === sectionName ? __jsx(\"b\", null, capitalize(sectionName)) : __jsx(\"span\", null, capitalize(sectionName)));\n  };\n\n  const imagesList = images.map((image, index) => {\n    return __jsx(React.Fragment, null, __jsx(\"img\", {\n      onClick: () => {\n        onImageClick(index);\n      },\n      key: index,\n      className: \"photo-image thumbnails\",\n      alt: image.caption ? image.caption : '',\n      src: image.src\n    }));\n  });\n\n  const previousImage = () => {\n    if (imageIndex === 0) {\n      setImageIndex(images.length - 1);\n    } else {\n      const newIndex = imageIndex - 1;\n      setImageIndex(newIndex);\n    }\n  };\n\n  const nextImage = () => {\n    const newIndex = imageIndex + 1;\n\n    if (newIndex <= images.length - 1) {\n      setImageIndex(newIndex);\n      console.log('newIndex', newIndex);\n    } else {\n      setImageIndex(0);\n    }\n  };\n\n  return __jsx(React.Fragment, null, __jsx(Head, null, __jsx(\"title\", {\n    className: \"jsx-2085888330 \" + _JSXStyle.dynamic([[\"3890027781\", [showThumnails ? 'white' : '#C0C0C0']]])\n  }, data.page.title), __jsx(\"link\", {\n    rel: \"icon\",\n    href: \"/favicon.ico\",\n    className: \"jsx-2085888330 \" + _JSXStyle.dynamic([[\"3890027781\", [showThumnails ? 'white' : '#C0C0C0']]])\n  })), __jsx(_JSXStyle, {\n    id: \"2085888330\"\n  }, []), __jsx(_JSXStyle, {\n    id: \"3890027781\",\n    dynamic: [showThumnails ? 'white' : '#C0C0C0']\n  }, [\"html,body{padding:0;margin:0;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue, sans-serif;}\", \".title{color:#404040;}\", \".main-container{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;max-height:90vh;}\", \".footer{position:fixed;left:0;bottom:0;width:100%;text-align:left;padding-left:3em;}\", \".main-wrapper{padding-top:3em;padding-left:3em;}\", \".main-wrapper{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;}\", \".side-bar{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;padding-right:1em;}\", \".main-canvas{-webkit-box-flex:8;-webkit-flex-grow:8;-ms-flex-positive:8;flex-grow:8;overflow:scroll;max-height:90vh;}\", \".list{list-style-type:none;padding-left:0px;cursor:pointer;}\", \".nested-list{list-style-type:none;cursor:pointer;font-size:small;}\", \"li{padding-bottom:0.1em;}\", \".cursor-pointer{cursor:pointer;}\", \".list.contacts{font-size:small;}\", \".photo-image{max-height:90%;width:auto;min-height:80%;height:auto;display:block;margin-left:auto;margin-right:auto;}\", \".images-list-container{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:space-around;-webkit-justify-content:space-around;-ms-flex-pack:space-around;justify-content:space-around;-webkit-align-items:baseline;-webkit-box-align:baseline;-ms-flex-align:baseline;align-items:baseline;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}\", \".thumbnails{width:30%;padding:1em;}\", \".image-caption{text-align:center;font-size:small;}\", \".link{-webkit-text-decoration:none;text-decoration:none;color:black;}\"]), __jsx(\"div\", {\n    className: \"jsx-2085888330 \" + _JSXStyle.dynamic([[\"3890027781\", [showThumnails ? 'white' : '#C0C0C0']]]) + \" \" + \"main-container\"\n  }, __jsx(\"div\", {\n    className: \"jsx-2085888330 \" + _JSXStyle.dynamic([[\"3890027781\", [showThumnails ? 'white' : '#C0C0C0']]]) + \" \" + \"main-wrapper\"\n  }, __jsx(\"div\", {\n    className: \"jsx-2085888330 \" + _JSXStyle.dynamic([[\"3890027781\", [showThumnails ? 'white' : '#C0C0C0']]]) + \" \" + \"side-bar\"\n  }, __jsx(\"h1\", {\n    className: \"jsx-2085888330 \" + _JSXStyle.dynamic([[\"3890027781\", [showThumnails ? 'white' : '#C0C0C0']]]) + \" \" + 'title'\n  }, data.page.author.name, __jsx(\"br\", {\n    className: \"jsx-2085888330 \" + _JSXStyle.dynamic([[\"3890027781\", [showThumnails ? 'white' : '#C0C0C0']]])\n  }), data.page.author.lastname), __jsx(\"div\", {\n    className: \"jsx-2085888330 \" + _JSXStyle.dynamic([[\"3890027781\", [showThumnails ? 'white' : '#C0C0C0']]]) + \" \" + \"menu\"\n  }, __jsx(\"br\", {\n    className: \"jsx-2085888330 \" + _JSXStyle.dynamic([[\"3890027781\", [showThumnails ? 'white' : '#C0C0C0']]])\n  }), __jsx(\"ul\", {\n    className: \"jsx-2085888330 \" + _JSXStyle.dynamic([[\"3890027781\", [showThumnails ? 'white' : '#C0C0C0']]]) + \" \" + \"list\"\n  }, data.albums.map(album => {\n    if (album.subcategory) {\n      const result = album.subcategory.map(subcategoryAlbum => {\n        return listElement(subcategoryAlbum.name);\n      });\n      return __jsx(React.Fragment, null, __jsx(\"li\", {\n        className: \"jsx-2085888330 \" + _JSXStyle.dynamic([[\"3890027781\", [showThumnails ? 'white' : '#C0C0C0']]])\n      }, capitalize(album.category)), __jsx(\"ul\", {\n        className: \"jsx-2085888330 \" + _JSXStyle.dynamic([[\"3890027781\", [showThumnails ? 'white' : '#C0C0C0']]]) + \" \" + \"nested-list\"\n      }, result));\n    } else {\n      return listElement(album.category);\n    }\n  })), __jsx(\"br\", {\n    className: \"jsx-2085888330 \" + _JSXStyle.dynamic([[\"3890027781\", [showThumnails ? 'white' : '#C0C0C0']]])\n  }), __jsx(\"ul\", {\n    className: \"jsx-2085888330 \" + _JSXStyle.dynamic([[\"3890027781\", [showThumnails ? 'white' : '#C0C0C0']]]) + \" \" + \"list contacts\"\n  }, __jsx(Link, {\n    href: \"https://pietropassarelli.com\"\n  }, __jsx(\"a\", {\n    target: \"_blank\",\n    rel: \"noopener noreferrer\",\n    className: \"jsx-2085888330 \" + _JSXStyle.dynamic([[\"3890027781\", [showThumnails ? 'white' : '#C0C0C0']]]) + \" \" + 'link'\n  }, \"About\", ' '))))), __jsx(\"div\", {\n    className: \"jsx-2085888330 \" + _JSXStyle.dynamic([[\"3890027781\", [showThumnails ? 'white' : '#C0C0C0']]]) + \" \" + \"main-canvas\"\n  }, !showThumnails ? __jsx(React.Fragment, null, __jsx(\"img\", {\n    onClick: onImageClick,\n    alt: \"Responsive image\",\n    src: images[imageIndex].src,\n    className: \"jsx-2085888330 \" + _JSXStyle.dynamic([[\"3890027781\", [showThumnails ? 'white' : '#C0C0C0']]]) + \" \" + \"photo-image\"\n  }), __jsx(\"p\", {\n    className: \"jsx-2085888330 \" + _JSXStyle.dynamic([[\"3890027781\", [showThumnails ? 'white' : '#C0C0C0']]]) + \" \" + 'image-caption'\n  }, \" \", images[imageIndex].caption ? images[imageIndex].caption : __jsx(\"div\", {\n    className: \"jsx-2085888330 \" + _JSXStyle.dynamic([[\"3890027781\", [showThumnails ? 'white' : '#C0C0C0']]])\n  }, \"\\xA0\"))) : __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: \"jsx-2085888330 \" + _JSXStyle.dynamic([[\"3890027781\", [showThumnails ? 'white' : '#C0C0C0']]]) + \" \" + 'images-list-container'\n  }, imagesList, \" \")))), __jsx(\"div\", {\n    className: \"jsx-2085888330 \" + _JSXStyle.dynamic([[\"3890027781\", [showThumnails ? 'white' : '#C0C0C0']]]) + \" \" + \"footer\"\n  }, __jsx(\"p\", {\n    className: \"jsx-2085888330 \" + _JSXStyle.dynamic([[\"3890027781\", [showThumnails ? 'white' : '#C0C0C0']]]) + \" \" + \"thumnail-toggle\"\n  }, __jsx(\"span\", {\n    onClick: onToggleThumbnailsView,\n    className: \"jsx-2085888330 \" + _JSXStyle.dynamic([[\"3890027781\", [showThumnails ? 'white' : '#C0C0C0']]]) + \" \" + 'cursor-pointer'\n  }, __jsx(\"small\", {\n    className: \"jsx-2085888330 \" + _JSXStyle.dynamic([[\"3890027781\", [showThumnails ? 'white' : '#C0C0C0']]])\n  }, \" \", showThumnails ? ' HIDE THUMBNAILS' : ' SHOW THUMBNAILS')), !showThumnails ? __jsx(React.Fragment, null, ' ', __jsx(\"span\", {\n    className: \"jsx-2085888330 \" + _JSXStyle.dynamic([[\"3890027781\", [showThumnails ? 'white' : '#C0C0C0']]])\n  }, \" \", `| ${imageIndex + 1}/${images.length}`), __jsx(\"span\", {\n    className: \"jsx-2085888330 \" + _JSXStyle.dynamic([[\"3890027781\", [showThumnails ? 'white' : '#C0C0C0']]])\n  }, ' | ', __jsx(\"small\", {\n    className: \"jsx-2085888330 \" + _JSXStyle.dynamic([[\"3890027781\", [showThumnails ? 'white' : '#C0C0C0']]])\n  }, __jsx(\"span\", {\n    onClick: previousImage,\n    className: \"jsx-2085888330 \" + _JSXStyle.dynamic([[\"3890027781\", [showThumnails ? 'white' : '#C0C0C0']]]) + \" \" + 'cursor-pointer'\n  }, '←'), ' ', \"/\", ' ', __jsx(\"span\", {\n    onClick: nextImage,\n    className: \"jsx-2085888330 \" + _JSXStyle.dynamic([[\"3890027781\", [showThumnails ? 'white' : '#C0C0C0']]]) + \" \" + 'cursor-pointer'\n  }, ` →`)))) : null))));\n}","map":null,"metadata":{},"sourceType":"module"}